# 11月28日　学習内容

## backend/app/statics/js/app.jsのcreate_Ideas
バックエンドにFast APIを使用するときフロントとバックとの接続の方法の一つとしてfetchがある
featchは対象ののエンドポイントのアクセス先とHTTPメソッドを指定することで、create_Ideasという関数を呼び出したときにバックと接続できる

### HTTPリクエスト
そもそも、HTTPとは、インターネット上で情報をやり取りするためのプロトコルの一つ
リクエストには
- メソッド　何をしたいのかを示す
- URL　どのリソースに対してアクションを行いたいのか
- ヘッダー　クライアントやリクエストの追加情報を提供
- ボディ　データ送信を伴うリクエストで使用される

#### HTTPリクエスト例
- GET　サーバーから情報を取得するためのリクエスト
- POST　サーバーに情報を送信するためのリクエスト

## JS側（フロントエンド側）から送ったデータはFast API側（バックエンド側）のどの部分で受け取ればいいのか

### Fast APIの読み取り方
backend/app/main.pyの中でFastAPIのエントリポイントが以下のように設定されている
app = FastAPI(...)
このappを起点にどんなエンドポイントが定義されているかがその下に示されている。

### JS側でバックエンドとつなぐように設定したところの受け皿はどの部分なのか
フロントエンド（JS）でバックとつなぐように設定した関数はcreate_Ideasというもの。その中ではfetchを用いて"http://localhost:8000/api/review_sessions"にHTTPリクエストのPOSTメソッドを送るように設定していた。そのため、main.pyの中に以下のようなプログラムを作ればよい
@app.post("api/review_sessions")
ただ、今はまだこの関数の中身がかけていない。
そのため、フロントとバックの接続はまだ完了していない。

## 今後していきたいこと
main.py内の@app.post("api/review_sessions")というエンドポイントに対して処理を行いたい

### 具体的な行いたい処理
POSTメソッドで以下が渡される想定
- ユーザーがフロントで入力した内容（企画のタイトル、企画本文）：string
- デモデータかどうか：bool
この部分の企画本文を用いて、データベース上（backend/data/decision_case.jsonを使用する予定だったが、このデータは、「企画本文」という分類がないため、データの作り直しを検討している）にある企画の「企画本文」と照らし合わせ、類似度計算を行う。
- 類似度の高い事業を画面で出力
- その事業の内容をもとにLLMが事業をよりブラッシュアップするために次ような問を生成

### やらなければいけないこと
- backend/data/decision_case.jsonのデータの作り直し（これを以降、デモデータと呼ぶ）
- デモデータに対して事前に埋め込みを行う

